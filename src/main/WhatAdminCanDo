ØªÙ…Ø§Ù… âœ… Ø®Ù„ÙŠÙ†ÙŠ Ø£Ø¯ÙŠÙƒ Ù‚Ø§Ø¦Ù…Ø© Ø´Ø§Ù…Ù„Ø© Ø¨ÙƒÙ„ Ø§Ù„Ù€ abilities ÙˆØ§Ù„Ù€ endpoints Ø§Ù„Ù„ÙŠ Ø§Ù„Ù€ **Admin** ÙŠÙ‚Ø¯Ø± ÙŠØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ø¹Ù†Ø¯Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù€ `MovieController` (ÙˆØ§Ù„Ù€ SecurityConfig).

---

# ğŸ‘¨â€ğŸ’¼ Admin Abilities

### 1ï¸âƒ£ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£ÙÙ„Ø§Ù… (CRUD ÙƒØ§Ù…Ù„)

* **Get All Movies**

  ```
  GET /api/movies
  ```

  ÙŠØ¬ÙŠØ¨ ÙƒÙ„ Ø§Ù„Ø£ÙÙ„Ø§Ù… (Ù…Ø¹ pagination).
  (Ù…Ø³Ù…ÙˆØ­ Ù„Ù€ User + Admin).

* **Get Movie By ID**

  ```
  GET /api/movies/{id}
  ```

  ÙŠØ¬ÙŠØ¨ ÙÙŠÙ„Ù… ÙˆØ§Ø­Ø¯ Ø¨Ø§Ù„Ù€ ID.
  (Ù…Ø³Ù…ÙˆØ­ Ù„Ù€ User + Admin).

* **Search Movies in DB**

  ```
  GET /api/movies/search?query={text}
  ```

  ÙŠØ¯ÙˆØ± Ø¹Ù„Ù‰ ÙÙŠÙ„Ù… ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©.
  (Ù…Ø³Ù…ÙˆØ­ Ù„Ù€ User + Admin).

* **Search Movies in OMDB API** ğŸ”’

  ```
  GET /api/movies/search-omdb?query={text}
  ```

  ÙŠØ¹Ù…Ù„ Search Ù…Ø¨Ø§Ø´Ø± ÙÙŠ OMDb API (ÙˆÙŠØªØ®Ø²Ù† Ø¹Ù†Ø¯Ùƒ Ø¨Ø¹Ø¯ ÙƒØ¯Ù‡).
  (Admin ÙÙ‚Ø·).

* **Add Single Movie** ğŸ”’

  ```
  POST /api/movies
  ```

  ÙŠØ¶ÙŠÙ ÙÙŠÙ„Ù… Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.
  (Admin ÙÙ‚Ø·).

* **Add Batch Movies** ğŸ”’

  ```
  POST /api/movies/batch
  ```

  ÙŠØ¶ÙŠÙ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£ÙÙ„Ø§Ù… Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© (List<Movie>).
  (Admin ÙÙ‚Ø·).

* **Update Movie** ğŸ”’

  ```
  PUT /api/movies/{id}
  ```

  ÙŠØ¹Ø¯Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠÙ„Ù… Ù…Ø¹ÙŠÙ†.
  (Admin ÙÙ‚Ø·).

* **Delete Movie** ğŸ”’

  ```
  DELETE /api/movies/{id}
  ```

  ÙŠÙ…Ø³Ø­ ÙÙŠÙ„Ù… Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.
  (Admin ÙÙ‚Ø·).

* **Delete Batch of Movies** ğŸ”’

  ```
  POST /api/movies/delete-batch
  ```

  ÙŠÙ…Ø³Ø­ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£ÙÙ„Ø§Ù… Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© (List<Long> ids).
  (Admin ÙÙ‚Ø·).

---

### 2ï¸âƒ£ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ Ratings (Ù…Ù† SecurityConfig)

* ```
  /api/ratings/**
  ```

  Ø£ÙŠ Ø¹Ù…Ù„ÙŠØ§Øª Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª (GET, POST, PUT, DELETE) â†’ Ù…Ø³Ù…ÙˆØ­ Ù„Ø£ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Authenticated (ÙŠØ¹Ù†ÙŠ User/Admin).
  Ù„ÙƒÙ† ÙƒÙ€ Admin Ø¨Ø±Ø¶Ù‡ ÙŠÙ‚Ø¯Ø± ÙŠØ¯Ø®Ù„ Ø¹Ù„ÙŠÙ‡Ø§.

---

### 3ï¸âƒ£ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ Users (Ù…Ù† SecurityConfig)

* ```
  /api/users/**
  ```

  Ø§Ù„Ù€ Admin ÙÙ‚Ø· ÙŠÙ‚Ø¯Ø± ÙŠØ¯Ø®Ù„ ÙˆÙŠØ¹Ù…Ù„ Ø£ÙŠ Ø¹Ù…Ù„ÙŠØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù€ users.

---

### 4ï¸âƒ£ Endpoints Ù…ÙØªÙˆØ­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹

* ```
  /auth/**
  ```

  Ù„Ù„ØªØ³Ø¬ÙŠÙ„ (register) Ø£Ùˆ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (login).
  Ø¯ÙŠ Ù…Ø³Ù…ÙˆØ­Ø© Ø¨Ø¯ÙˆÙ† Authentication.

---

# ğŸ“ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±

* **USER** â†’ ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ù…Ù„:

  * GET all movies
  * GET movie by ID
  * Search in DB
  * GET/POST/PUT/DELETE on `/api/ratings/**` (Ø¹Ø´Ø§Ù† ÙŠØ¶ÙŠÙ ØªÙ‚ÙŠÙŠÙ… Ù…Ø«Ù„Ø§Ù‹).

* **ADMIN** â†’ ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ù…Ù„:

  * ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø§Ù„Ù€ USER ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ù…Ù„Ù‡
  * * Search OMDB
  * * Add/Batch Add
  * * Update
  * * Delete/Batch Delete
  * * Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ Users

---

ØªØ­Ø¨ Ø£Ø¹Ù…Ù„Ùƒ Ø¬Ø¯ÙˆÙ„ Ù…Ø±ØªØ¨ (Ø²ÙŠ Matrix) ÙÙŠÙ‡: Endpoint | Method | Role (User/Admin) Ø¹Ø´Ø§Ù† ÙŠØ¨Ù‚Ù‰ Ù…Ø±Ø¬Ø¹ Ø¬Ø§Ù‡Ø² Ù„ÙŠÙƒØŸ


ØªÙ…Ø§Ù… ğŸ‘Œ Ø®Ù„ÙŠÙ†ÙŠ Ø£Ø´Ø±Ø­Ù„Ùƒ ÙˆØ§Ø­Ø¯Ø© ÙˆØ§Ø­Ø¯Ø© Ø¥Ø²Ø§ÙŠ ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ù€ **MovieController** Ø¯Ù‡ ÙÙŠ Postman.

---

## 1ï¸âƒ£ Base URL

ÙƒÙ„ Ø§Ù„Ù€ endpoints Ù…ÙˆØ¬ÙˆØ¯Ø© ØªØ­Øª:

```
http://localhost:8080/api/movies
```

(ØºÙŠØ± Ø§Ù„Ø¨ÙˆØ±Øª Ù„Ùˆ Ø¥Ù†Øª Ù…Ø´ØºÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø¹Ù„Ù‰ ØºÙŠØ± 8080).

---

## 2ï¸âƒ£ Authentication

Ø¨Ù…Ø§ Ø¥Ù† Ø¹Ù†Ø¯Ùƒ **Spring Security**ØŒ ÙÙ„Ø§Ø²Ù… ØªØ¯Ø®Ù„ Ø¥Ù…Ø§:

* **admin/admin** â†’ Ù…Ø¹Ø§Ù‡ Role: ADMIN
* **user/user** â†’ Ù…Ø¹Ø§Ù‡ Role: USER

â¬…ï¸ ÙÙŠ Postman:

* Ø§Ø¯Ø®Ù„ Ø¹Ù„Ù‰ **Authorization tab**
* Ø§Ø®ØªØ§Ø± **Basic Auth**
* ÙˆØ­Ø· Ø§Ù„Ù€ username/password.

---

## 3ï¸âƒ£ Requests Ø§Ù„Ù…ØªØ§Ø­Ø©

### ğŸ“Œ (Accessible by ADMIN + USER)

#### âœ… Get All Movies

```
GET http://localhost:8080/api/movies
```

#### âœ… Get Movie By ID

```
GET http://localhost:8080/api/movies/{id}
Ù…Ø«Ø§Ù„: http://localhost:8080/api/movies/1
```

#### âœ… Search Movies in DB

```
GET http://localhost:8080/api/movies/search?query=batman
```

---

### ğŸ“Œ (ADMIN Only)

#### ğŸ”’ Search in OMDB API

```
GET http://localhost:8080/api/movies/search-omdb?query=inception
```

#### ğŸ”’ Add a Movie

```
POST http://localhost:8080/api/movies
```

**Body (JSON):**

```json
{
  "title": "Inception",
  "year": "2010",
  "imdbId": "tt1375666",
  "type": "movie",
  "posterUrl": "https://imageurl.com/inception.jpg"
}
```

#### ğŸ”’ Add Batch of Movies

```
POST http://localhost:8080/api/movies/batch
```

**Body (JSON):**

```json
[
  {
    "title": "Interstellar",
    "year": "2014",
    "imdbId": "tt0816692",
    "type": "movie",
    "posterUrl": "https://imageurl.com/interstellar.jpg"
  },
  {
    "title": "The Dark Knight",
    "year": "2008",
    "imdbId": "tt0468569",
    "type": "movie",
    "posterUrl": "https://imageurl.com/darkknight.jpg"
  }
]
```

#### ğŸ”’ Update a Movie

```
PUT http://localhost:8080/api/movies/{id}
Ù…Ø«Ø§Ù„: http://localhost:8080/api/movies/1
```

**Body (JSON):**

```json
{
  "title": "Inception - Updated",
  "year": "2010",
  "imdbId": "tt1375666",
  "type": "movie",
  "posterUrl": "https://imageurl.com/inception_new.jpg"
}
```

#### ğŸ”’ Delete a Movie

```
DELETE http://localhost:8080/api/movies/{id}
Ù…Ø«Ø§Ù„: http://localhost:8080/api/movies/1
```

#### ğŸ”’ Delete Batch

```
POST http://localhost:8080/api/movies/delete-batch
```

**Body (JSON):**

```json
[1, 2, 3]
```

---

## 4ï¸âƒ£ Ù…Ù„Ø§Ø­Ø¸Ø§Øª

* **USER account** ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ù…Ù„ Ø¨Ø³ GET (list, byId, searchDb).
* **ADMIN account** ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ù…Ù„ CRUD ÙƒØ§Ù…Ù„ + searchOmdb.
* Ù„Ùˆ Ø¬Ø§Ù„Ùƒ **403 Forbidden** â†’ ØºØ§Ù„Ø¨Ù‹Ø§ Ø¥Ù†Øª Ø¯Ø§Ø®Ù„ Ø¨Ù€ user/user Ø¨ØªØ­Ø§ÙˆÙ„ ØªØ¹Ù…Ù„ Ø¹Ù…Ù„ÙŠØ© ADMIN.
* Ù„Ùˆ Ø¬Ø§Ù„Ùƒ **401 Unauthorized** â†’ Ø¥Ù…Ø§ Ù…Ø§Ù†Ø²Ù„ØªØ´ Ø§Ù„Ù€ Auth ÙÙŠ Postman ØµØ­ Ø£Ùˆ Ø§Ù„Ù€ credentials ØºÙ„Ø·.

---

ØªØ­Ø¨ Ø£ÙƒØªØ¨Ù„Ùƒ **Ù…Ù„Ù Postman Collection Ø¬Ø§Ù‡Ø²** (ØªØ³ØªÙˆØ±Ø¯Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø© ÙˆØªÙ„Ø§Ù‚ÙŠ ÙƒÙ„ Ø§Ù„Ù€ requests Ù…ØªØ¬Ù‡Ø²Ø©)ØŸ



---

# ğŸ“ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±

* **USER** â†’ ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ù…Ù„:

  * GET all movies
  * GET movie by ID
  * Search in DB
  * GET/POST/PUT/DELETE on `/api/ratings/**` (Ø¹Ø´Ø§Ù† ÙŠØ¶ÙŠÙ ØªÙ‚ÙŠÙŠÙ… Ù…Ø«Ù„Ø§Ù‹).

* **ADMIN** â†’ ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ù…Ù„:

  * ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø§Ù„Ù€ USER ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ù…Ù„Ù‡
  * * Search OMDB
  * * Add/Batch Add
  * * Update
  * * Delete/Batch Delete
  * * Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ Users
